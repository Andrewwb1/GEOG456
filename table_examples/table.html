<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW 4b</title>
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>
</head>
<script src="../HW4/data.js"></script>
<body>
<h1>Atlantic Southern States' Population by Year and Contitent of Birth</h1>
<h2>Color-Coded By Contitent of Birth</h2>
<h2>Legend:</h2>

    North America: Green <br> 
    South America: Purple <br>
    Europe: Orange <br>
    Asia: Yellow <br>
    Africa: Blue <br>
    Grey: Unknown <br>
    <!-- br inserts line break -->

<table id="myTable">
    <tr>
        <th>State</th>
        <th>Year</th>
        <th>Coded Birth Place (Will Change to Countries)</th>
        <th>Population Born in that Country</th>
      </tr>
</table>

<script>
    var x = document.getElementById("myTable")
    
    for (var i =0; i <data.length; i++){
      var myNewRow = document.createElement('tr');
      var myNewCell1 = document.createElement('td');
      var myNewCell2 = document.createElement('td');
      var myNewCell3 = document.createElement('td');
      var myNewCell4 = document.createElement('td');
  
      myNewCell1.innerHTML = data[i].State ;
      myNewCell2.innerHTML = data[i].YEAR;
      myNewCell3.innerHTML = data[i].BPL;
      myNewCell4.innerHTML = data[i].Total_Pop;
  
      myNewCell4.innerHTML = Math.round(data[i].Total_Pop);
      // myNewCell2.innerHTML = checkType   (data[i].generation_gwh_2019);
      // myNewCell2.innerHTML = parseFloat(data[i].generation_gwh_2019).toFixed(2);
  
  
  
      // Assign color using if statements 
      if(data[i].BPL <= 200 ){ myNewRow.style.backgroundColor = '#7fc97f'} // US States/ North America
      if(data[i].BPL > 200 && data[i].BPL <= 300){ myNewRow.style.backgroundColor = '#beaed4'}  // South American
      if(data[i].BPL > 300 && data[i].BPL <= 499){ myNewRow.style.backgroundColor = '#fdc086'}  // Europe
      if(data[i].BPL > 499 && data[i].BPL <= 599){ myNewRow.style.backgroundColor = '#ffff99'}  // Asia
      if(data[i].BPL === 600 ){ myNewRow.style.backgroundColor = '#386cb0'}  // Africa
      if(data[i].BPL >= 700 ){ myNewRow.style.backgroundColor = 'grey'}  // Other

      // Assign color using a function 
      // myNewCell2.style.backgroundColor = getBackgroundColor(data[i].generation_gwh_2019)
  
      //Assign color using class
      // myNewCell2.className = getClassName(data[i].generation_gwh_2019)
  
      myNewRow.append(myNewCell1);
      myNewRow.append(myNewCell2);
      myNewRow.append(myNewCell3);
      myNewRow.append(myNewCell4);
      x.append(myNewRow);
  
    } // The loop ends 
   
  
  
    function checkType(value) {
      if (typeof value === "string") {
          return "String";
      } else if (typeof value === "number") {
          return "Number";
      } else {
          return "Other";
      }
  }
  
  function getBackgroundColor(d){
    return d > 39.7 ? 'yellow' : 'gray';
  }
  
  function getClassName(d){
    return d > 39.7 ? 'high' : 'low';
  }
  
  </script>
</body>
</html>

